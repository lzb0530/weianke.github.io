webpackJsonp([3],{"9jpX":function(t,a){},G9XZ:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i={name:"CommonGallary",props:{imgs:{type:Array,default:function(){return[]}}},data:function(){return{swiperOption:{pagination:".swiper-pagination",paginationType:"fraction",observer:!0,observeParents:!0}}},methods:{handleGallaryClick:function(){this.$emit("close")}}},s={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"container",on:{click:this.handleGallaryClick}},[a("div",{staticClass:"wrapper"},[a("swiper",{ref:"mySwiper",attrs:{options:this.swiperOption}},[this._l(this.imgs,function(t,e){return a("swiper-slide",{key:e},[a("img",{staticClass:"gallary-img",attrs:{src:t,alt:"去哪儿玩"}})])}),this._v(" "),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)])},staticRenderFns:[]};var n={render:function(){var t=this.$createElement;return(this._self._c||t)("transition",[this._t("default")],2)},staticRenderFns:[]};var r={name:"DetailBanner",components:{CommonGallary:e("VU/8")(i,s,!1,function(t){e("sDko")},"data-v-e3d8685e",null).exports,FadeAnimation:e("VU/8")({name:"FadeAnimation"},n,!1,function(t){e("VBaT")},"data-v-6bec1247",null).exports},props:{sightName:String,bannerImg:String,gallaryImgs:Array},data:function(){return{showGallary:!1}},methods:{handleBannerClick:function(){this.showGallary=!0},handleGallaryClose:function(){this.showGallary=!1}}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"banner",on:{click:t.handleBannerClick}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.bannerImg,expression:"bannerImg"}],staticClass:"banner-img"}),t._v(" "),e("div",{staticClass:"banner-info"},[e("div",{staticClass:"banner-tittle"},[t._v(t._s(t.sightName))]),t._v(" "),t._m(0)])]),t._v(" "),e("fade-animation",[e("common-gallary",{directives:[{name:"show",rawName:"v-show",value:t.showGallary,expression:"showGallary"}],attrs:{imgs:t.gallaryImgs},on:{close:t.handleGallaryClose}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"banner-number"},[a("span",{staticClass:"iconfont banner-icon"},[this._v("")]),this._v("39")])}]};var o=e("VU/8")(r,l,!1,function(t){e("U1y8")},"data-v-4190c543",null).exports,c={name:"DetailHeader",data:function(){return{showAbs:!0,opacityStyle:{opacity:0}}},methods:{handleScroll:function(){var t=document.documentElement.scrollTop||document.body.scrollTop;if(t>60){var a=t/140;a=a>1?1:a,this.opacityStyle={opacity:a},this.showAbs=!1}else this.showAbs=!0}},activated:function(){this.showAbs=!0,window.addEventListener("scroll",this.handleScroll)},deactivated:function(){window.removeEventListener("scroll",this.handleScroll)}},d={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("router-link",{directives:[{name:"show",rawName:"v-show",value:this.showAbs,expression:"showAbs"}],staticClass:"header-abs",attrs:{to:"/",tag:"div"}},[a("div",{staticClass:"iconfont header-abs-back"},[this._v("")])]),this._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!this.showAbs,expression:"!showAbs"}],staticClass:"header-fixed",style:this.opacityStyle},[this._v("\n    景点详情\n    "),a("router-link",{attrs:{to:"/",tag:"div"}},[a("div",{staticClass:"iconfont header-fixed-back"},[this._v("")])])],1)],1)},staticRenderFns:[]};var h=e("VU/8")(c,d,!1,function(t){e("SQa3")},"data-v-68f81e30",null).exports,m={name:"DetailList",props:{list:Array}},v={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",t._l(t.list,function(a,i){return e("div",{key:i,staticClass:"item"},[e("div",{staticClass:"item-title border-bottom"},[e("span",{staticClass:"item-title-icon"}),t._v("\n        "+t._s(a.title)+"\n      ")]),t._v(" "),a.children?e("div",{staticClass:"item-children"},[e("detail-list",{attrs:{list:a.children}})],1):t._e()])}),0)},staticRenderFns:[]};var u=e("VU/8")(m,v,!1,function(t){e("9jpX")},"data-v-528dfeb0",null).exports,f=e("eOoE"),p={name:"Detail",components:{DetailBanner:o,DetailHeader:h,DetailList:u},data:function(){return{sightName:"",bannerImg:"",gallaryImgs:[],list:[],lastId:""}},mounted:function(){this.lastId=this.$route.params.id,this.getDetailInfo()},activated:function(){this.lastId!==this.$route.params.id&&(this.lastId=this.$route.params.id,this.getDetailInfo())},methods:{getDetailInfo:function(){var t=this;f.a.ajax("/detail",{data:{id:this.$route.params.id}}).then(function(a){a.ret&&a.data&&(t.sightName=a.data.sightName,t.list=a.data.categoryList,t.bannerImg=a.data.bannerImg,t.gallaryImgs=a.data.gallaryImgs)})}}},g={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("detail-banner",{attrs:{sightName:this.sightName,bannerImg:this.bannerImg,gallaryImgs:this.gallaryImgs}}),this._v(" "),a("detail-header"),this._v(" "),a("div",{staticClass:"content"},[a("detail-list",{attrs:{list:this.list}})],1)],1)},staticRenderFns:[]};var y=e("VU/8")(p,g,!1,function(t){e("alqE")},"data-v-e3f62994",null);a.default=y.exports},SQa3:function(t,a){},U1y8:function(t,a){},VBaT:function(t,a){},alqE:function(t,a){},sDko:function(t,a){}});
//# sourceMappingURL=3.a556b9afa072e5f8ef8b.js.map